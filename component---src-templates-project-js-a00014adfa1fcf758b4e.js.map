{"version":3,"sources":["webpack:///./src/templates/project.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/layouts/index.js","webpack:///./.cache/socketIo.js","webpack:///./.cache/json-store.js"],"names":["c","Img","styled_components__WEBPACK_IMPORTED_MODULE_3__","a","img","_templateObject","displayName","Body","div","_templateObject2","TitleAndMetaTags","_ref","title","ogUrl","ogDescription","react__WEBPACK_IMPORTED_MODULE_2___default","createElement","react_helmet__WEBPACK_IMPORTED_MODULE_4___default","property","content","pageQuery","__webpack_exports__","default","_ref2","data","location","markdownRemark","_layouts__WEBPACK_IMPORTED_MODULE_6__","frontmatter","href","repoURL","target","projectURL","startDate","endDate","src","images","publicURL","alt","dangerouslySetInnerHTML","__html","html","_interopRequireWildcard","__webpack_require__","_interopRequireDefault","exports","__esModule","PageRenderer","StaticQuery","StaticQueryContext","_react","_propTypes","_gatsbyLink","Link","withPrefix","push","replace","navigateTo","_pages","_loader","_jsonStore","pageResources","getResourcesForPathname","pathname","pages","propTypes","shape","string","isRequired","createContext","props","Consumer","staticQueryData","query","render","object","func","Container","ListLink","h1","react__WEBPACK_IMPORTED_MODULE_1___default","style","display","marginRight","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","children","marginBottom","textShadow","backgroundImage","listStyle","float","getIsInitialized","getPageQueryData","getStaticQueryData","pageQueryData","234","n","e","t","_extends2","_objectWithoutProperties2","_inheritsLoose2","_assertThisInitialized2","_defineProperty2","_pageRenderer","_gatsby","_socketIo","getPathFromProps","_props$pageResources","_props$pageResources$","page","path","_default","_React$Component","JSONStore","_this","call","this","type","event","state","_proto","prototype","componentDidMount","componentWillUnmount","componentDidUpdate","newPath","unregisterPath","registerPath","_this$props","propsWithoutPages","Provider","value","Component"],"mappings":"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","file":"component---src-templates-project-js-a00014adfa1fcf758b4e.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components'\nimport Helmet from 'react-helmet';\nimport { Link } from 'gatsby';\nimport Layout from \"../layouts\"\n\nconst Img = styled.img`\n  margin: 0 auto;\n  display: block;\n  max-width: 100%;\n  border: solid 1px #eee;\n`\n\nconst Body = styled.div`\n\n  a {\n    color: steelblue;\n\n    :hover {\n      text-decoration: underline;\n    }\n  }\n\n  a.anchor {\n    color: inherit;\n    fill: steelblue;\n    text-decoration: none;\n    border-bottom: none;\n    box-shadow: none;\n  }\n\n  p {\n    margin: 0 auto;\n    margin-top: 30px;\n    font-size: 17px;\n    line-height: 1.7;\n    // max-width: 42em;\n  }\n\n  ul {\n    list-style: disc;\n    margin-top: 20px;\n    font-size: 16px;\n    color: #1a1a1a;\n    padding-left: 20px;\n  }\n\n  ul li {\n    margin-top: 10px;\n  }\n\n  & h3 + p, & h3 + p:first-of-type {\n    margin-top: 20px;\n  }\n\n  & h1 {\n    line-height: 1.2;\n\n    // [media.size('xsmall')] {\n    //   fontSize: 30,\n    // },\n\n    // [media.between('small', 'large')]: {\n    //   fontSize: 45,\n    // },\n\n    // [media.greaterThan('xlarge')]: {\n    //   fontSize: 60,\n    // },\n  }\n\n  & h2 {\n    border-top: 1px solid black;\n    margin-top: 44px;\n    padding-top: 40px;\n    line-height: 1.2\n\n    :first-child {\n      border-top: 0;\n      margin-top: 0;\n      padding-top: 0;\n    };\n\n    [media.lessThan('large')]: {\n      fontSize: 20,\n    },\n    [media.greaterThan('xlarge')]: {\n      fontSize: 35,\n    },\n  },\n\n  & hr + h2 {\n    border-top: 0;\n    margin-top: 0;\n  }\n\n  & h3 {\n    padding-top: 45px;\n\n    [media.lessThan('small')]: {\n      wordBreak: 'break-all',\n    },\n\n    [media.greaterThan('xlarge')]: {\n      fontSize: 25,\n      lineHeight: 1.3,\n    }\n  }\n\n  & h2 + h3, & h2 + h3:first-of-type {\n    padding-top: 30px;\n  }\n\n  & h4 {\n    font-size: 20px;\n    color: black;\n    line-height: 1.3;\n    margin-top: 50px;\n    font-weight: 400,\n  }\n\n  & h4 + p {\n    margin-top: 20px;\n  }\n`\n\nconst TitleAndMetaTags = ({title, ogDescription, ogUrl}) => {\n  return (\n    <Helmet title={title}>\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:type\" content=\"website\" />\n      {ogUrl && <meta property=\"og:url\" content={ogUrl} />}\n      <meta property=\"og:image\" content=\"/logo-og.png\" />\n      <meta property=\"fb:app_id\" content=\"623268441017527\" />\n    </Helmet>\n  );\n};\n\nconst Project = ({data, location}) => {\n  // HACK The injected location prop doesn't update when hash changes\n  // This might be a gatsby issue, or a react-router/history issue,\n  // Or we might be using either library incorrectly.\n  // For now this patch keeps the hash in sync by JIT copying it from window.\n  // The undefined check prevents us from breaking on production build.\n  // if (typeof window !== 'undefined' && typeof window.location !== 'undefined') {\n  //   location.hash = window.location.hash;\n  // }\n\n  const markdownRemark = data.markdownRemark\n\n  return (\n    <Layout location={location}>\n    <div>\n      <TitleAndMetaTags\n        ogDescription={\"dave\"}\n        ogUrl={\"dave\"}\n        title={\"Projects\"}\n      />\n\n      <h1>\n        {markdownRemark.frontmatter.title}\n      </h1>    \n\n      <a \n        href={markdownRemark.frontmatter.repoURL}\n        target=\"_blank\"\n      >\n        Repository\n      </a>\n\n      <a \n        href={markdownRemark.frontmatter.projectURL}\n        target=\"_blank\"\n      >\n        Project\n      </a>\n\n      <div>\n        {markdownRemark.frontmatter.startDate} to {markdownRemark.frontmatter.endDate}\n      </div>\n      \n      <a \n        href={markdownRemark.frontmatter.projectURL}\n        target=\"_blank\"\n      >\n        <Img src={markdownRemark.frontmatter.images[0].publicURL} alt=\"\"/>\n      </a>      \n      \n      <Body\n        dangerouslySetInnerHTML={{__html: markdownRemark.html}}\n      />\n      \n    </div>\n    </Layout>\n  );\n};\n\n// Tutorial.propTypes = {\n//   data: PropTypes.object.isRequired,\n// };\n\n// eslint-disable-next-line no-undef\nexport const pageQuery = graphql`\n  query TemplateProjectMarkdown($slug: String!) {\n    markdownRemark(fields: {slug: {eq: $slug}}) {\n      html\n      frontmatter {\n        title\n        startDate\n        endDate\n        repoURL\n        projectURL\n        images {\n          publicURL\n        }\n      }\n      fields {\n        path\n        slug\n      }\n    }\n  }\n`;\n\nexport default Project;\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.PageRenderer = exports.StaticQuery = exports.StaticQueryContext = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _gatsbyLink = _interopRequireWildcard(require(\"gatsby-link\"));\n\nexports.Link = _gatsbyLink.default;\nexports.withPrefix = _gatsbyLink.withPrefix;\nexports.push = _gatsbyLink.push;\nexports.replace = _gatsbyLink.replace;\nexports.navigateTo = _gatsbyLink.navigateTo;\n\nvar _pages = _interopRequireDefault(require(\"./pages.json\"));\n\nvar _loader = _interopRequireDefault(require(\"./loader\"));\n\nvar _jsonStore = _interopRequireDefault(require(\"./json-store\"));\n\nvar PageRenderer = function PageRenderer(_ref) {\n  var location = _ref.location;\n\n  var pageResources = _loader.default.getResourcesForPathname(location.pathname);\n\n  return _react.default.createElement(_jsonStore.default, {\n    pages: _pages.default,\n    location: location,\n    pageResources: pageResources\n  });\n};\n\nexports.PageRenderer = PageRenderer;\nPageRenderer.propTypes = {\n  location: _propTypes.default.shape({\n    pathname: _propTypes.default.string.isRequired\n  }).isRequired\n};\n\nvar StaticQueryContext = _react.default.createContext({});\n\nexports.StaticQueryContext = StaticQueryContext;\n\nvar StaticQuery = function StaticQuery(props) {\n  return _react.default.createElement(StaticQueryContext.Consumer, null, function (staticQueryData) {\n    if (props.data || staticQueryData[props.query] && staticQueryData[props.query].data) {\n      return props.render(props.data ? props.data.data : staticQueryData[props.query].data);\n    } else {\n      return _react.default.createElement(\"div\", null, \"Loading (StaticQuery)\");\n    }\n  });\n};\n\nexports.StaticQuery = StaticQuery;\nStaticQuery.propTypes = {\n  data: _propTypes.default.object,\n  query: _propTypes.default.string.isRequired,\n  render: _propTypes.default.func.isRequired\n};","import React from \"react\"\nimport {Link} from \"gatsby\"\nimport styled from 'styled-components'\nimport '../css/my-prism-theme.css'\nimport '../css/reset.css'\n\n\nconst Container = styled.div`\n  margin: 0 auto;\n  width: 70%;\n  padding: 30px;\n  padding-top: 30px;\n\n  @media (max-width: 700px) {\n    width: 95%;\n  }\n`\n\nconst Title = styled.h1`\n  margin-bottom: 20px;\n`\n\nconst ListLink = props =>\n  <li style={{ display: `inline-block`, marginRight: `1rem` }}>\n    <Link to={props.to}>\n      {props.children}\n    </Link>\n  </li>\n\nexport default ({ children, data }) =>\n  <Container>\n    <header style={{ marginBottom: `1.5rem` }}>\n      <Link to=\"/\" style={{ textShadow: `none`, backgroundImage: `none` }}>\n        <h3 style={{ display: `inline` }}>Dave Reed</h3>\n      </Link>\n      <ul style={{ listStyle: `none`, float: `right` }}>\n        <ListLink to=\"/\">Home</ListLink>\n        <ListLink to=\"/about/\">About</ListLink>\n        <ListLink to=\"/paintings/\">Paintings</ListLink>\n      </ul>\n    </header>\n    {children}\n  </Container>","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = socketIo;\nexports.getIsInitialized = exports.getPageQueryData = exports.getStaticQueryData = void 0;\n\nvar _extends4 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar socket = null;\nvar staticQueryData = {};\nvar pageQueryData = {};\nvar isInitialized = false;\n\nvar getStaticQueryData = function getStaticQueryData() {\n  return staticQueryData;\n};\n\nexports.getStaticQueryData = getStaticQueryData;\n\nvar getPageQueryData = function getPageQueryData() {\n  return pageQueryData;\n};\n\nexports.getPageQueryData = getPageQueryData;\n\nvar getIsInitialized = function getIsInitialized() {\n  return isInitialized;\n};\n\nexports.getIsInitialized = getIsInitialized;\n\nfunction socketIo() {\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!socket) {\n      // Try to initialize web socket if we didn't do it already\n      try {\n        // eslint-disable-next-line no-undef\n        socket = io();\n        socket.on(\"message\", function (msg) {\n          if (msg.type === \"staticQueryResult\") {\n            var _extends2;\n\n            staticQueryData = (0, _extends4.default)({}, staticQueryData, (_extends2 = {}, _extends2[msg.payload.id] = msg.payload.result, _extends2));\n          }\n\n          if (msg.type === \"pageQueryResult\") {\n            var _extends3;\n\n            pageQueryData = (0, _extends4.default)({}, pageQueryData, (_extends3 = {}, _extends3[msg.payload.id ? msg.payload.id : msg.payload.path] = msg.payload.result, _extends3));\n          }\n\n          if (msg.type && msg.payload) {\n            ___emitter.emit(msg.type, msg.payload);\n          }\n        });\n      } catch (err) {\n        console.error(\"Could not connect to socket.io on dev server.\");\n      }\n    }\n\n    return socket;\n  } else {\n    return null;\n  }\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _pageRenderer = _interopRequireDefault(require(\"./page-renderer\"));\n\nvar _gatsby = require(\"gatsby\");\n\nvar _socketIo = _interopRequireWildcard(require(\"./socketIo\"));\n\nvar getPathFromProps = function getPathFromProps(props) {\n  var _props$pageResources, _props$pageResources$;\n\n  return (_props$pageResources = props.pageResources) === null || _props$pageResources === void 0 ? void 0 : (_props$pageResources$ = _props$pageResources.page) === null || _props$pageResources$ === void 0 ? void 0 : _props$pageResources$.path;\n};\n\nvar JSONStore =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(JSONStore, _React$Component);\n\n  function JSONStore(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)((0, _assertThisInitialized2.default)(_this)), \"handleMittEvent\", function (type, event) {\n      if (process.env.NODE_ENV !== \"production\") {\n        _this.setState({\n          staticQueryData: (0, _socketIo.getStaticQueryData)(),\n          pageQueryData: (0, _socketIo.getPageQueryData)()\n        });\n      }\n    });\n    _this.state = {\n      staticQueryData: (0, _socketIo.getStaticQueryData)(),\n      pageQueryData: (0, _socketIo.getPageQueryData)(),\n      path: null\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      _this.socket = (0, _socketIo.default)();\n    }\n\n    return _this;\n  }\n\n  var _proto = JSONStore.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.registerPath(getPathFromProps(this.props));\n\n      ___emitter.on(\"*\", this.handleMittEvent);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.unregisterPath(this.state.path);\n\n      ___emitter.off(\"*\", this.handleMittEvent);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var path = this.state.path;\n    var newPath = getPathFromProps(this.props);\n\n    if (path !== newPath) {\n      this.unregisterPath(path);\n      this.registerPath(newPath);\n    }\n  };\n\n  _proto.registerPath = function registerPath(path) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.setState({\n        path: path\n      });\n      this.socket.emit(\"registerPath\", path);\n    }\n  };\n\n  _proto.unregisterPath = function unregisterPath(path) {\n    if (process.env.NODE_ENV !== \"production\") {\n      this.setState({\n        path: null\n      });\n      this.socket.emit(\"unregisterPath\", path);\n    }\n  };\n\n  _proto.render = function render() {\n    var data = this.state.pageQueryData[getPathFromProps(this.props)]; // eslint-disable-next-line\n\n    var _this$props = this.props,\n        pages = _this$props.pages,\n        propsWithoutPages = (0, _objectWithoutProperties2.default)(_this$props, [\"pages\"]);\n\n    if (!data) {\n      return _react.default.createElement(\"div\", null);\n    }\n\n    return _react.default.createElement(_gatsby.StaticQueryContext.Provider, {\n      value: this.state.staticQueryData\n    }, _react.default.createElement(_pageRenderer.default, (0, _extends2.default)({}, propsWithoutPages, data)));\n  };\n\n  return JSONStore;\n}(_react.default.Component);\n\nvar _default = JSONStore;\nexports.default = _default;"],"sourceRoot":""}