<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style type="text/css" data-href="/component---src-templates-project-js.68f9ddc4110e407615bc.css">code[class*=language-],pre[class*=language-]{color:#34525d;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#e7faff}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#e7faff}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;margin-left:-18px;border-left:2px solid #b7d6ec}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fff}:not(pre)>code[class*=language-]{padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
html{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{overflow-x:hidden;position:relative}*{margin:0;padding:0}*,:after,:before{-webkit-box-sizing:inherit;box-sizing:inherit}a{color:inherit;text-decoration:none}ol,ul{list-style:none}img{display:inline-block;vertical-align:top}code,pre{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}

/*# sourceMappingURL=component---src-templates-project-js.68f9ddc4110e407615bc.css.map*/</style><style data-styled-components="QsHMX bzPxeS kdrDon">
/* sc-component-id: sc-bdVaJa */
.QsHMX{margin:0 auto;width:70%;padding:30px;padding-top:30px;} @media (max-width:700px){.QsHMX{width:95%;}}
/* sc-component-id: sc-htpNat */
.bzPxeS{margin:0 auto;display:block;max-width:100%;border:solid 1px #eee;}
/* sc-component-id: sc-bxivhb */
.kdrDon a{color:steelblue;} .kdrDon a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .kdrDon a.anchor{color:inherit;fill:steelblue;-webkit-text-decoration:none;text-decoration:none;border-bottom:none;box-shadow:none;} .kdrDon p{margin:0 auto;margin-top:30px;font-size:17px;line-height:1.7;} .kdrDon ul{list-style:disc;margin-top:20px;font-size:16px;color:#1a1a1a;padding-left:20px;} .kdrDon ul li{margin-top:10px;} .kdrDon h3 + p,.kdrDon h3 + p:first-of-type{margin-top:20px;} .kdrDon h1{line-height:1.2;} .kdrDon h2{border-top:1px solid black;margin-top:44px;padding-top:40px;line-height:1.2;} .kdrDon h2:first-child{border-top:0;margin-top:0;padding-top:0;} .kdrDon h2 [media.lessThan('large')]:{fontSize:20,;} .kdrDon h2,.kdrDon h2 [media.greaterThan('xlarge')]:{fontSize:35,;} .kdrDon,.kdrDon hr + h2{border-top:0;margin-top:0;} .kdrDon h3{padding-top:45px;} .kdrDon h3 [media.lessThan('small')]:{wordBreak:'break-all',;} .kdrDon h3,.kdrDon h3 [media.greaterThan('xlarge')]:{fontSize:25, lineHeight:1.3,;} .kdrDon h2 + h3,.kdrDon h2 + h3:first-of-type{padding-top:30px;} .kdrDon h4{font-size:20px;color:black;line-height:1.3;margin-top:50px;font-weight:400,;} .kdrDon h4 + p{margin-top:20px;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">Projects</title><meta data-react-helmet="true" property="og:title" content="Projects"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="dave"/><meta data-react-helmet="true" property="og:image" content="/logo-og.png"/><meta data-react-helmet="true" property="fb:app_id" content="623268441017527"/><link as="script" rel="preload" href="/component---src-templates-project-js-a00014adfa1fcf758b4e.js"/><link as="script" rel="preload" href="/0-65fb782a56fcea2cf002.js"/><link as="script" rel="preload" href="/1-bf4084016a21ebb1c0e2.js"/><link as="script" rel="preload" href="/app-b422cd62ad45d64f8047.js"/><link as="script" rel="preload" href="/webpack-runtime-96dc20077d8cbbd97ade.js"/><link rel="preload" href="/static/d/path---projects-boston-landfill-html-6-b-5-060-qae6CEm7MmJTA05XIiT1zyW6Ucc.json" as="fetch" crossOrigin="use-credentials"/><link as="style" rel="preload" href="/component---src-templates-project-js.68f9ddc4110e407615bc.css"/></head><body><div id="___gatsby"><div class="sc-bdVaJa QsHMX" data-reactroot=""><header style="margin-bottom:1.5rem"><a style="text-shadow:none;background-image:none" href="/"><h3 style="display:inline">Dave Reed</h3></a><ul style="list-style:none;float:right"><li style="display:inline-block;margin-right:1rem"><a href="/">Home</a></li><li style="display:inline-block;margin-right:1rem"><a href="/about/">About</a></li><li style="display:inline-block;margin-right:1rem"><a href="/paintings/">Paintings</a></li></ul></header><div><h1>Boston Landfill</h1><a href="https://github.com/dvreed77/boston_landfill" target="_blank">Repository</a><a href="https://dvreed77.github.io/boston_landfill/" target="_blank">Project</a><div>2017-10-06<!-- --> to <!-- -->2017-10-23</div><a href="https://dvreed77.github.io/boston_landfill/" target="_blank"><img class="sc-htpNat bzPxeS" src="/static/boston-landfill-60905d0ced07df3d6eecfa2ea1ea9220.png" alt=""/></a><div class="sc-bxivhb kdrDon"><p>This is a project I became interested in a long time ago.  I have been in Boston for over 12 years, and knew that Boston was built over time from a sequence of landfill projects.  I was interested in creating an app that allowed the user to scrub through time and see what parts of Boston were changed and when.  </p>
<p>After a little bit of digging, I found the best dataset <a href="http://www.bc.edu/bc_org/avp/cas/fnart/fa267/sequence.html">here</a>, a crappy GIF.  I probably could have emailed the professor for something of higher quality, but since I am always up for a challenge, I wanted to use this to practice a variety of skills:</p>
<ul>
<li>Understand GIFs in Python</li>
<li>Some basic image processing: dilation/erosion, thresholding, smoothing, etc.</li>
<li>Extract contours/shapes from an image</li>
<li>Shape manipulations: merging, intersection</li>
<li>SVG creation</li>
<li>GeoJSON creation</li>
<li>Interactive React App with GeoJSON objects</li>
<li>React App for timelines, and other Interactive elements</li>
</ul>
<h2 id="data"><a href="#data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data</h2>
<p>Original data was sourced here, a GIF image: <a href="http://www.bc.edu/bc_org/avp/cas/fnart/fa267/sequence.html">http://www.bc.edu/bc_org/avp/cas/fnart/fa267/sequence.html</a></p>
<h2 id="key-lessons-learned"><a href="#key-lessons-learned" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Key Lessons Learned</h2>
<h3 id="read-gif-in-python"><a href="#read-gif-in-python" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read GIF in Python</h3>
<p>A colored GIF is just a <code class="language-text">F x M x N x C</code> tensor, where <code class="language-text">F</code> is the number of frames, <code class="language-text">M</code> and <code class="language-text">N</code> are the height and width, and <code class="language-text">C=3</code> are the 3 RGB channels.</p>
<p>Easy to read image (and make Greyscale):</p>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> skimage<span class="token punctuation">.</span>io <span class="token keyword">import</span> imread
<span class="token keyword">from</span> skimage<span class="token punctuation">.</span>color <span class="token keyword">import</span> rgb2gray

image <span class="token operator">=</span> rgb2gray<span class="token punctuation">(</span>imread<span class="token punctuation">(</span><span class="token string">'img.gif'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="basic-image-processing"><a href="#basic-image-processing" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic Image Processing</h3>
<h4 id="resizing"><a href="#resizing" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resizing</h4>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> skimage<span class="token punctuation">.</span>transform <span class="token keyword">import</span> resize <span class="token keyword">as</span> resize_image

image <span class="token operator">=</span> resize_image<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div>
<h4 id="slight-blur"><a href="#slight-blur" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slight blur</h4>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> skimage<span class="token punctuation">.</span>filters <span class="token keyword">import</span> gaussian

image <span class="token operator">=</span> gaussian<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span></code></pre>
      </div>
<h4 id="thresholding"><a href="#thresholding" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Thresholding</h4>
<p>I used <code class="language-text">threshold_minimum</code> which is described as: The histogram of the input image is computed and smoothed until there are only two maxima. Then the minimum in between is the threshold value.</p>
<p>It is described in more detail <a href="http://scikit-image.org/docs/dev/auto_examples/xx_applications/plot_thresholding.html#bimodal-histogram">here</a></p>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python">threshold <span class="token operator">=</span> threshold_minimum<span class="token punctuation">(</span>rimage<span class="token punctuation">)</span>

binary <span class="token operator">=</span> <span class="token punctuation">(</span>image <span class="token operator">></span> threshold<span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
  <span class="token comment"># binary = binary_dilation(binary)</span>

  <span class="token keyword">return</span> binary</code></pre>
      </div>
<h4 id="erosiondilation"><a href="#erosiondilation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Erosion/Dilation</h4>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> skimage<span class="token punctuation">.</span>morphology <span class="token keyword">import</span> binary_dilation<span class="token punctuation">,</span> binary_erosion

image <span class="token operator">=</span> binary_dilation<span class="token punctuation">(</span>image<span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="get-contours-from-image"><a href="#get-contours-from-image" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get contours from image</h3>
<p>This creates contours where image = 0. Since we created a binary image with thresholding, this is easy.</p>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> skimage <span class="token keyword">import</span> measure

contours <span class="token operator">=</span> measure<span class="token punctuation">.</span>find_contours<span class="token punctuation">(</span>image<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="contour-to-shapes"><a href="#contour-to-shapes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contour to Shapes</h3>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> shapely<span class="token punctuation">.</span>geometry <span class="token keyword">import</span> Polygon

polygon <span class="token operator">=</span> Polygon<span class="token punctuation">(</span>c<span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="simplify-shapes"><a href="#simplify-shapes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simplify shapes</h3>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python">p <span class="token operator">=</span> polygon<span class="token punctuation">.</span>simplify<span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> preserve_topology<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="convert-contours-to-svg"><a href="#convert-contours-to-svg" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Convert contours to SVG</h3>
<p>In order to convert Shapely shapes to SVG, I manually built my own SVG path elements, similar to this:</p>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python">path <span class="token operator">=</span> svgwrite<span class="token punctuation">.</span>path<span class="token punctuation">.</span>Path<span class="token punctuation">(</span><span class="token punctuation">)</span>
ext_points <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span>exterior<span class="token punctuation">.</span>coords<span class="token punctuation">)</span>

P <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ext_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>ext_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> ext_points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>path<span class="token punctuation">.</span>push<span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> P<span class="token punctuation">]</span>

<span class="token keyword">for</span> interior <span class="token keyword">in</span> shape<span class="token punctuation">.</span>interiors<span class="token punctuation">:</span>
    int_points <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>interior<span class="token punctuation">.</span>coords<span class="token punctuation">)</span>

    P <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>int_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>int_points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> int_points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Z'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span>path<span class="token punctuation">.</span>push<span class="token punctuation">(</span><span class="token operator">*</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> P<span class="token punctuation">]</span></code></pre>
      </div>
<h3 id="convert-svg-to-polygons"><a href="#convert-svg-to-polygons" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Convert SVG to Polygons</h3>
<p>In order to convert Shapely shapes to SVG, I manually built my own SVG path elements, similar to this:</p>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> shapely<span class="token punctuation">.</span>geometry <span class="token keyword">import</span> Polygon<span class="token punctuation">,</span> MultiPolygon
<span class="token keyword">from</span> xml<span class="token punctuation">.</span>dom <span class="token keyword">import</span> minidom<span class="token punctuation">,</span> Node
<span class="token keyword">from</span> svg<span class="token punctuation">.</span>path <span class="token keyword">import</span> parse_path <span class="token keyword">as</span> parse_svg_path

svg_doc <span class="token operator">=</span> minidom<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">"data/svg_out.svg"</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">parse_path</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    points <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>start<span class="token punctuation">.</span>real<span class="token punctuation">,</span> x<span class="token punctuation">.</span>start<span class="token punctuation">.</span>imag<span class="token punctuation">)</span><span class="token punctuation">,</span> parse_svg_path<span class="token punctuation">(</span>path<span class="token punctuation">.</span>getAttribute<span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> points

points <span class="token operator">=</span> parse_path<span class="token punctuation">(</span>svg_doc<span class="token punctuation">.</span>getElementsByTagName<span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Polygon<span class="token punctuation">(</span>points<span class="token punctuation">)</span></code></pre>
      </div>
<h3 id="convert-polygons-to-geojson"><a href="#convert-polygons-to-geojson" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Convert Polygons to GeoJSON</h3>
<div class="gatsby-highlight" data-language="python">
      <pre class="language-python"><code class="language-python"><span class="token keyword">from</span> shapely<span class="token punctuation">.</span>geometry <span class="token keyword">import</span> mapping
<span class="token keyword">import</span> json

out <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"FeatureCollection"</span><span class="token punctuation">,</span>
    <span class="token string">"features"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">"type"</span><span class="token punctuation">:</span> <span class="token string">"Feature"</span><span class="token punctuation">,</span>
            <span class="token string">"properties"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token string">"layer"</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"region"</span><span class="token punctuation">:</span> <span class="token string">"logan_airport"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">"geometry"</span><span class="token punctuation">:</span> mapping<span class="token punctuation">(</span>shape<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>        
<span class="token punctuation">}</span>

json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'test.geojson'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>
      </div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-project-js","jsonName":"projects-boston-landfill-html-6b5","path":"/projects/boston-landfill.html"};window.dataPath="path---projects-boston-landfill-html-6-b-5-060-qae6CEm7MmJTA05XIiT1zyW6Ucc";/*]]>*/</script><script src="/webpack-runtime-96dc20077d8cbbd97ade.js" async=""></script><script src="/app-b422cd62ad45d64f8047.js" async=""></script><script src="/1-bf4084016a21ebb1c0e2.js" async=""></script><script src="/0-65fb782a56fcea2cf002.js" async=""></script><script src="/component---src-templates-project-js-a00014adfa1fcf758b4e.js" async=""></script></body></html>